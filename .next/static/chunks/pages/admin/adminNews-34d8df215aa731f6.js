(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96],{3226:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/adminNews",function(){return t(5156)}])},3439:function(e,n,t){"use strict";var o=t(5893),a=t(381),r=t.n(a);n.Z=function(e){let{id:n,title:t,description:a,createdAt:i,admin:s,handleDelete:l}=e;return(0,o.jsxs)("div",{className:"newsPost row p-3 my-2 border-bottom shadow-sm rounded align-items-center",children:[(0,o.jsxs)("div",{className:s?"col-9":"col-12",children:[(0,o.jsx)("h5",{children:t}),(0,o.jsx)("small",{className:"text-muted",children:r()(new Date).isBefore(r()(new Date(null==i?void 0:i.toDate()),"DD-MM-YYYY").add(7,"days"))?(0,o.jsxs)("span",{className:"newNews position-relative",children:[new Date(null==i?void 0:i.toDate()).toLocaleString(),(0,o.jsxs)("span",{className:"position-absolute bottom-0 start-100 ms-2 translate-bottom badge rounded-pill bg-danger",children:["New",(0,o.jsx)("span",{className:"visually-hidden",children:"unread messages"})]})]}):(0,o.jsx)("span",{children:new Date(null==i?void 0:i.toDate()).toLocaleString()})}),(0,o.jsx)("p",{style:{textAlign:"left",marginBottom:0,fontSize:"1.06rem",color:"#2d2d2d"},children:a})]}),s&&(0,o.jsx)("div",{className:"col-3",children:(0,o.jsx)("button",{className:"btn btn-danger",onClick:e=>l(e),children:(0,o.jsx)("i",{className:"fas fa-trash"})})})]})}},5156:function(e,n,t){"use strict";t.r(n);var o=t(5893),a=t(7294),r=t(4203),i=t(7438),s=t(3349),l=t(870),c=t(8473),d=t(1163),u=t(3439),m=t(6677),h=t(9008),f=t.n(h);n.default=function e(){let[n,t,h]=(0,m.Kx)(i.h.collection("news").orderBy("createdAt","desc")),[g]=(0,s.F_)(i.I8),{logoutAdmin:p,admin:v}=(0,c.aC)(),w=(0,d.useRouter)(),x={newsTitle:"",newsDescription:""},[j,y]=(0,a.useState)(x),b=async e=>{e.preventDefault();try{await p(),w.push("/admin")}catch(e){console.log("error")}};g?(0,o.jsx)(e,{}):(0,o.jsx)(l.default,{});let{newsTitle:N,newsDescription:S}=j,A=e=>{window.confirm("Are you sure you want to delete this news?")&&i.h.collection("news").doc(e).delete().then(()=>alert("News Sucessfully Deleted!!"))};return(0,o.jsxs)("div",{className:"admin",children:[(0,o.jsxs)(f(),{children:[(0,o.jsx)("title",{children:"Admin-News | M.V.M Higher Secondary School"}),(0,o.jsx)("meta",{name:"description",content:"Assabah Association Trust is a well organized and established non-profit organization, under Muslim management. The trust is managing number of educational institutions. M.V.M.R.H.S.S founded in 1986 under Assabah Association Trust. School provides quality education for all community with affordable cost. Now the school has grown to a full fledged Higher Secondary School starting from K.G. to Higher Secondary level with reorganization of government of Kerala."}),(0,o.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/images/favicon/apple-touch-icon.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/images/favicon/favicon-32x32.png"}),(0,o.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/images/favicon/favicon-16x16.png"}),(0,o.jsx)("link",{rel:"manifest",href:"/images/favicon/site.webmanifest"}),(0,o.jsx)("meta",{property:"og:description",content:"Assabah Association Trust is a well organized and established non-profit organization, under Muslim management. The trust is managing number of educational institutions. M.V.M.R.H.S.S founded in 1986 under Assabah Association Trust. School provides quality education for all community with affordable cost. Now the school has grown to a full fledged Higher Secondary School starting from K.G. to Higher Secondary level with reorganization of government of Kerala."}),(0,o.jsx)("meta",{name:"twitter:description",content:"Assabah Association Trust is a well organized and established non-profit organization, under Muslim management. The trust is managing number of educational institutions. M.V.M.R.H.S.S founded in 1986 under Assabah Association Trust. School provides quality education for all community with affordable cost. Now the school has grown to a full fledged Higher Secondary School starting from K.G. to Higher Secondary level with reorganization of government of Kerala."}),(0,o.jsx)("meta",{property:"og:image",content:"/images/favicon/favicon-32x32.png"}),(0,o.jsx)("meta",{name:"twitter:image",content:"/images/favicon/favicon-32x32.png"}),(0,o.jsx)("meta",{name:"twitter:card",content:"/images/favicon/favicon-32x32.png"}),(0,o.jsx)("meta",{property:"article:section",content:"Assabah Association Trust is a well organized and established non-profit organization, under Muslim management. The trust is managing number of educational institutions. M.V.M.R.H.S.S founded in 1986 under Assabah Association Trust. School provides quality education for all community with affordable cost. Now the school has grown to a full fledged Higher Secondary School starting from K.G. to Higher Secondary level with reorganization of government of Kerala."}),(0,o.jsx)("meta",{property:"og:type",content:"article"}),(0,o.jsx)("meta",{property:"og:url",content:"https://www.mvmrhss.com/"}),(0,o.jsx)("meta",{property:"og:title",content:"M.V.M Higher Secondary School"})]}),(0,o.jsx)("div",{className:"container",children:(0,o.jsxs)("div",{className:"title",children:[(0,o.jsx)("h1",{children:"ADMIN "}),v?(0,o.jsx)("button",{className:"logoutBtn btn btn-danger",onClick:b,children:"Logout"}):null,(0,o.jsx)("h2",{children:"Add News"}),(0,o.jsx)("form",{onSubmit:e=>{e.preventDefault(),i.h.collection("news").add({newsTitle:N,newsDescription:S,createdAt:r.Z.firestore.FieldValue.serverTimestamp()}),y(x)},children:(0,o.jsxs)("div",{className:"row clearfix",children:[(0,o.jsx)("div",{className:"col-md-6 col-sm-12",children:(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("input",{type:"text",name:"newsTitle",className:"form-control",placeholder:"News Title *",required:!0,onChange:e=>y({...j,newsTitle:e.target.value}),value:N})})}),(0,o.jsxs)("div",{className:"col-xl-12 col-sm-12",children:[(0,o.jsx)("div",{className:"form-group",children:(0,o.jsx)("textarea",{name:"news",className:"form-control textarea required",required:!0,placeholder:"Type Your News Here . . .",onChange:e=>y({...j,newsDescription:e.target.value}),value:S})}),(0,o.jsx)("div",{className:"form-group form-bottom",children:(0,o.jsx)("button",{className:"thm-btn bg-clr1",type:"submit","data-loading-text":"Please wait...",children:"Upload News"})})]})]})}),(0,o.jsx)("div",{className:"newContainer",children:n&&n.docs.map((e,n)=>(0,o.jsx)(u.Z,{id:e.id,admin:!0,title:e.data().newsTitle,description:e.data().newsDescription,createdAt:e.data().createdAt,handleDelete:n=>A(e.id)},n))})]})})]})}},6677:function(e,n,t){"use strict";t.d(n,{Kx:function(){return c}});var o=t(7294),a=function(){return(a=Object.assign||function(e){for(var n,t=1,o=arguments.length;t<o;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e}).apply(this,arguments)},r=function(e){return{loading:null==e,value:e}},i=function(e){var n=e?e():void 0,t=(0,o.useReducer)(function(e,n){switch(n.type){case"error":return a({},e,{error:n.error,loading:!1,value:void 0});case"reset":return r(n.defaultValue);case"value":return a({},e,{error:void 0,loading:!1,value:n.value});default:return e}},r(n)),i=t[0],s=t[1],l=function(){s({type:"reset",defaultValue:e?e():void 0})},c=function(e){s({type:"error",error:e})},d=function(e){s({type:"value",value:e})};return(0,o.useMemo)(function(){return{error:i.error,loading:i.loading,reset:l,setError:c,setValue:d,value:i.value}},[i.error,i.loading,l,c,d,i.value])},s=function(e,n,t){var a=(0,o.useRef)(e);return(0,o.useEffect)(function(){!n(e,a.current)&&(a.current=e,t&&t())}),a},l=function(e,n){var t=!e&&!n,o=!!e&&!!n&&e.isEqual(n);return t||o},c=function(e,n){return d(!0,e,n)},d=function(e,n,t){var a=i(),r=a.error,c=a.loading,d=a.reset,u=a.setError,m=a.setValue,h=a.value,f=s(n,l,d);(0,o.useEffect)(function(){if(!f.current){m(void 0);return}if(e){var n=t&&t.snapshotListenOptions?f.current.onSnapshot(t.snapshotListenOptions,m,u):f.current.onSnapshot(m,u);return function(){n()}}f.current.get(t?t.getOptions:void 0).then(m).catch(u)},[f.current]);var g=[h,c,r];return(0,o.useMemo)(function(){return g},g)}}},function(e){e.O(0,[885,233,85,888,774,179],function(){return e(e.s=3226)}),_N_E=e.O()}]);